import{i as b}from"./index-f9a914d4.js";import{_ as a}from"./lodash-b35d7d50.js";import{i as s}from"./i18n-0af8b262.js";import{d as x,o as A,b as r,w as h,a as C,x as D,m as S,q as B,u as N}from"./runtime-core.esm-bundler-1bbee395.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const O={class:"chat-container"},V=x({__name:"Chart",props:{chartData:null,type:null},setup(g){const u=g;A(()=>{p(),y()});const w=[{label:s.global.t("wms.deliveryStatistic.goods_owner_name"),value:"goodsOwnerName"},{label:s.global.t("wms.deliveryStatistic.category_name"),value:"categoryName"}],_=r(),l=r("goodsOwnerName");let i;const y=()=>{i&&i.dispose(),i=b(_.value);const t={tooltip:{trigger:"axis",axisPointer:{type:"shadow",label:{show:!0}}},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,legend:{data:[s.global.t("wms.deliveryStatistic.amount"),s.global.t("wms.deliveryStatistic.amount_money")],itemGap:5,selectedMode:"single"},xAxis:[{type:"category",data:c.value}],yAxis:[{type:"value",axisLabel:{formatter(e){return e.toLocaleString()}}}],dataZoom:[{show:!0,start:0,end:100}],series:[{name:s.global.t("wms.deliveryStatistic.amount"),type:"bar",data:m.value},{name:s.global.t("wms.deliveryStatistic.amount_money"),type:"bar",data:d.value}]};i.setOption(t)},c=r([]),m=r([]),d=r([]),p=()=>{if(c.value=[],m.value=[],d.value=[],u.type==="delivery"){const t=l.value==="goodsOwnerName"?"goods_owner_name":"sku_name",e=a.groupBy(u.chartData,t);a.forEach(e,(o,n)=>{const v=a.sumBy(o,"delivery_qty"),f=a.sumBy(o,"delivery_amount");c.value.push(n),m.value.push(v),d.value.push(f)})}else{const t=l.value==="goodsOwnerName"?"goods_owner_name":"sku_name",e=a.groupBy(u.chartData,t);a.forEach(e,(o,n)=>{const v=a.sumBy(o,"actual_qty");c.value.push(n),m.value.push(v),d.value=[]})}y()};return h(l,p),h(()=>u.chartData,p),(t,e)=>{const o=C("v-select");return D(),S("div",O,[B(o,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=n=>l.value=n),items:w,label:t.$t("base.printSolution.vue_path"),class:"select","item-title":"label","item-value":"value",variant:"outlined"},null,8,["modelValue","label"]),N("div",{ref_key:"chatRef",ref:_,class:"chat"},null,512)])}}});const R=k(V,[["__scopeId","data-v-d1c57e67"]]);export{R as default};
