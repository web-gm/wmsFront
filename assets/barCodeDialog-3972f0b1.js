import{J as $}from"./JsBarcode-61cdf20e.js";import{b as R,c as k}from"./common-938b41ea.js";import{d as P,r as g,c as S,w as U,n as T,a as r,b2 as A,x as d,v,s as a,q as s,u as n,as as z,m as c,b0 as E,O as J,y as w,at as f,t as M,ap as j}from"./runtime-core.esm-bundler-1bbee395.js";import{_ as q}from"./_plugin-vue_export-helper-c27b6911.js";const F={class:"print-area-container"},I={class:"print-area-scroll"},L=["id"],O={class:"row-number-input"},H={class:"colText"},K={class:"colText"},Q={class:"padding-lr-16"},W=P({__name:"barCodeDialog",props:{menu:null},setup(b,{expose:D}){const p=b,e=g({showDialog:!1,printData:[],rowsNumber:5,gridColumnGap:15,gridRowGap:15}),h=S(()=>e.printData.length===0);U(()=>e.printData,()=>{e.printData.length<5?e.rowsNumber=e.printData.length:e.rowsNumber=5});const i=g({changePrintParams:()=>{const o={cols:e.rowsNumber,rs:e.gridRowGap};R(`BarCode-${p.menu}`,o)},openDialog:o=>{try{const t=k(`BarCode-${p.menu}`);t&&(e.rowsNumber=t.cols,e.gridRowGap=t.rs)}catch{e.rowsNumber=5,e.gridRowGap=15}e.printData=o,e.showDialog=!0,T(()=>{for(const t of e.printData)$(`#printBarCode${t.id}`,t.id,{fontSize:12,width:2,height:40,displayValue:!0})})},closeDialog:()=>{e.showDialog=!1}});return D({openDialog:i.openDialog,closeDialog:i.closeDialog}),(o,t)=>{const y=r("v-card-text"),m=r("v-text-field"),u=r("v-col"),V=r("v-row"),_=r("v-btn"),x=r("v-card-actions"),C=r("v-card"),N=r("v-dialog"),G=A("print");return d(),v(N,{modelValue:e.showDialog,"onUpdate:modelValue":t[2]||(t[2]=l=>e.showDialog=l),persistent:!0,transition:"dialog-top-transition",width:"auto"},{default:a(()=>[s(C,{title:o.$t("system.page.preView")},{default:a(()=>[s(y,null,{default:a(()=>[n("div",F,[n("div",I,[n("div",{id:"printArea",style:z({"grid-template-columns":`repeat(${e.rowsNumber},1fr)`,rowGap:`${e.gridRowGap}px`,columnGap:`${e.gridColumnGap}px`}),class:"printArea"},[(d(!0),c(J,null,E(e.printData,(l,B)=>(d(),c("div",{key:B,class:"code-container"},[(d(),c("svg",{id:"printBarCode"+l.id},null,8,L))]))),128))],4)])])]),_:1}),s(x,{class:"justify-space-between"},{default:a(()=>[n("div",O,[s(V,{"no-gutters":""},{default:a(()=>[s(u,{cols:"6",class:"col"},{default:a(()=>[n("div",H,[s(m,{modelValue:e.rowsNumber,"onUpdate:modelValue":[t[0]||(t[0]=l=>e.rowsNumber=l),i.changePrintParams],modelModifiers:{number:!0},"hide-details":"auto",label:o.$t("system.page.rowsNumber")},null,8,["modelValue","label","onUpdate:modelValue"])])]),_:1}),s(u,{cols:"6",class:"col"},{default:a(()=>[n("div",K,[s(m,{modelValue:e.gridRowGap,"onUpdate:modelValue":[t[1]||(t[1]=l=>e.gridRowGap=l),i.changePrintParams],modelModifiers:{number:!0},"hide-details":"auto",label:o.$t("system.page.gridRowGap")},null,8,["modelValue","label","onUpdate:modelValue"])])]),_:1})]),_:1})]),n("div",Q,[s(_,{variant:"text",onClick:i.closeDialog},{default:a(()=>[w(f(o.$t("system.page.close")),1)]),_:1},8,["onClick"]),M((d(),v(_,{color:"primary",disabled:j(h),variant:"text"},{default:a(()=>[w(f(o.$t("system.page.print")),1)]),_:1},8,["disabled"])),[[G,"#printArea"]])])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}});const te=q(W,[["__scopeId","data-v-a5719387"]]);export{te as B};
