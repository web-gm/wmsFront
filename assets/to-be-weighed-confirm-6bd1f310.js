import{a as k}from"./index-cd6d6b34.js";import{i as s}from"./i18n-0af8b262.js";import{I as d,a as u}from"./formRule-3feb276f.js";import{d as C,c as N,r as v,w as Q,a,x as M,v as D,s as l,q as o,y as w,at as _,ap as I,ac as T}from"./runtime-core.esm-bundler-1bbee395.js";const R=C({__name:"to-be-weighed-confirm",props:{showDialog:{type:Boolean},maxQty:null,defaultWeight:null,weightUnit:null},emits:["close","submit"],setup(g,{emit:c}){const r=g,m=N(()=>r.showDialog),t=v({form:{qty:0,weight:0},rules:{qty:[e=>!!e||`${s.global.t("system.checkText.mustInput")}${s.global.t("wms.deliveryManagement.detailQty")}!`,e=>d(e,"greaterThanZero")===""||d(e,"greaterThanZero")],weight:[e=>!!e||`${s.global.t("system.checkText.mustInput")}${s.global.t("wms.deliveryManagement.detailQty")}!`,e=>u(e,"nonNegative",15,3)===""||u(e,"nonNegative",15,3)]}}),f=v({closeDialog:()=>{c("close")},submit:()=>{d(t.form.qty,"greaterThanZero")===""&&u(t.form.weight,"nonNegative",15,3)===""&&Number(t.form.qty)>0&&Number(t.form.qty)<=r.maxQty&&Number(t.form.weight)>0?c("submit",{weighing_qty:t.form.qty,weighing_weight:t.form.weight}):k.$message({type:"error",content:`${s.global.t("wms.deliveryManagement.validQtyMsgPackage")}${r.maxQty}!`})}});return Q(()=>m.value,e=>{e&&(t.form.qty=r.maxQty,t.form.weight=r.defaultWeight)}),(e,n)=>{const h=a("v-toolbar"),p=a("v-text-field"),b=a("v-form"),x=a("v-card-text"),y=a("v-btn"),$=a("v-card-actions"),q=a("v-card"),V=a("v-dialog");return M(),D(V,{modelValue:I(m),"onUpdate:modelValue":n[2]||(n[2]=i=>T(m)?m.value=i:null),width:"30%",transition:"dialog-top-transition",persistent:!0},{default:l(()=>[o(q,{class:"formCard"},{default:l(()=>[o(h,{color:"white",title:`${e.$t("wms.deliveryManagement.weigh")}`},null,8,["title"]),o(x,null,{default:l(()=>[o(b,{ref:"formRef"},{default:l(()=>[o(p,{modelValue:t.form.qty,"onUpdate:modelValue":n[0]||(n[0]=i=>t.form.qty=i),style:{"margin-bottom":"5px"},rules:t.rules.qty,label:e.$t("wms.deliveryManagement.detailQty"),variant:"outlined",clearable:""},null,8,["modelValue","rules","label"]),o(p,{modelValue:t.form.weight,"onUpdate:modelValue":n[1]||(n[1]=i=>t.form.weight=i),label:e.$t("wms.deliveryManagement.detailWeight")+"("+g.weightUnit+")",rules:t.rules.weight,variant:"outlined",clearable:""},null,8,["modelValue","label","rules"])]),_:1},512)]),_:1}),o($,{class:"justify-end"},{default:l(()=>[o(y,{variant:"text",onClick:f.closeDialog},{default:l(()=>[w(_(e.$t("system.page.close")),1)]),_:1},8,["onClick"]),o(y,{color:"primary",variant:"text",onClick:f.submit},{default:l(()=>[w(_(e.$t("system.page.submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});export{R as default};
