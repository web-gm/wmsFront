import{a as g}from"./index-cd6d6b34.js";import{i as l}from"./i18n-0af8b262.js";import{I as d}from"./formRule-3feb276f.js";import{d as x,c as D,r as p,w as V,a as o,x as I,v as M,s as n,q as a,y as v,at as y,ap as N,ac as Q}from"./runtime-core.esm-bundler-1bbee395.js";const U=x({__name:"to-be-sign-in-confirm",props:{showDialog:{type:Boolean},dialogDefaultQty:null},emits:["close","submit"],setup(_,{emit:c}){const i=_,s=D(()=>i.showDialog),t=p({form:{qty:0},rules:{qty:[e=>!!e||`${l.global.t("system.checkText.mustInput")}${l.global.t("wms.deliveryManagement.detailQty")}!`,e=>d(e,"nonNegative")===""||d(e,"nonNegative")]}}),u=p({closeDialog:()=>{c("close")},submit:()=>{d(t.form.qty,"nonNegative")===""&&Number(t.form.qty)>=0&&Number(t.form.qty)<=i.dialogDefaultQty?g.$dialog({content:`${l.global.t("wms.deliveryManagement.irreversible")}, ${l.global.t("wms.deliveryManagement.confirmSignIn")}?`,handleConfirm:async()=>{c("submit",t.form.qty)}}):g.$message({type:"error",content:`${l.global.t("wms.deliveryManagement.validQtyMsgSignIn")}${i.dialogDefaultQty}!`})}});return V(()=>s.value,e=>{e&&(t.form.qty=0)}),(e,r)=>{const b=o("v-toolbar"),w=o("v-text-field"),$=o("v-form"),q=o("v-card-text"),f=o("v-btn"),C=o("v-card-actions"),h=o("v-card"),k=o("v-dialog");return I(),M(k,{modelValue:N(s),"onUpdate:modelValue":r[1]||(r[1]=m=>Q(s)?s.value=m:null),width:"30%",transition:"dialog-top-transition",persistent:!0},{default:n(()=>[a(h,{class:"formCard"},{default:n(()=>[a(b,{color:"white",title:`${e.$t("wms.deliveryManagement.signIn")}`},null,8,["title"]),a(q,null,{default:n(()=>[a($,{ref:"formRef"},{default:n(()=>[a(w,{modelValue:t.form.qty,"onUpdate:modelValue":r[0]||(r[0]=m=>t.form.qty=m),rules:t.rules.qty,label:e.$t("wms.deliveryManagement.damagedQuantity"),variant:"outlined",clearable:""},null,8,["modelValue","rules","label"])]),_:1},512)]),_:1}),a(C,{class:"justify-end"},{default:n(()=>[a(f,{variant:"text",onClick:u.closeDialog},{default:n(()=>[v(y(e.$t("system.page.close")),1)]),_:1},8,["onClick"]),a(f,{color:"primary",variant:"text",onClick:u.submit},{default:n(()=>[v(y(e.$t("system.page.submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});export{U as default};
