import{i}from"./i18n-0af8b262.js";import{a as p}from"./index-cd6d6b34.js";import{x as w}from"./stockAsn-18b92b84.js";import{l as y}from"./location-select-a2f98b65.js";import{d as b,b as k,r as d,a as l,x,m as $,q as e,s as n,y as u,at as _,O as C}from"./runtime-core.esm-bundler-1bbee395.js";import{_ as I}from"./_plugin-vue_export-helper-c27b6911.js";import"./request-e1053d5a.js";import"./index-f4e4efab.js";import"./index-827f2091.js";import"./vue-router-1283ad2d.js";import"./warehouseSetting-835f9e1c.js";import"./tooltip-btn.vue_vue_type_script_setup_true_lang-fc6ce76f.js";import"./system-93ae242b.js";import"./style-b9bc59b4.js";import"./formatSystem-1203ad16.js";import"./index-ae8f073f.js";import"./formatWarehouse-aebb7b18.js";import"./Warehouse-56a6b193.js";import"./common-938b41ea.js";const V=b({__name:"update-grounding",setup(T){const r=k(),t=d({showDialog:!1,tableData:[],rules:{putaway_qty:[o=>!!o||`${i.global.t("system.checkText.mustInput")}${i.global.t("wms.stockAsnInfo.actual_qty")}!`],location_name:[o=>!!o||`${i.global.t("system.checkText.mustInput")}${i.global.t("base.warehouseSetting.location_name")}!`]},showSkuDialogSelect:!1,cacheItemIndex:-1}),s=d({initDialogData:async o=>{const{data:a}=await w(o);if(!a.isSuccess){p.$message({type:"error",content:a.errorMessage}),s.closeDialog();return}t.tableData=a.data},openDialog:o=>{s.initDialogData(o),t.showDialog=!0},closeDialog:()=>{t.showDialog=!1},submit:async()=>{const{valid:o}=await r.value.validate();o?console.log():p.$message({type:"error",content:i.global.t("system.checkText.checkFormFail")})},clearCommodity:o=>{o.goods_location_id=0,o.location_name=""},openSelect:o=>{t.cacheItemIndex=o,t.showSkuDialogSelect=!0},closeDialogSelect:()=>{t.showSkuDialogSelect=!1},sureSelect:o=>{console.log(o)}});return(o,a)=>{const g=l("v-toolbar"),f=l("v-form"),v=l("v-card-text"),c=l("v-btn"),D=l("v-card-actions"),S=l("v-card"),h=l("v-dialog");return x(),$(C,null,[e(h,{modelValue:t.showDialog,"onUpdate:modelValue":a[0]||(a[0]=m=>t.showDialog=m),width:"30%",transition:"dialog-top-transition",persistent:!0},{default:n(()=>[e(S,null,{default:n(()=>[e(g,{color:"white",title:`${o.$t("wms.stockAsn.tabNotice")}`},null,8,["title"]),e(v,null,{default:n(()=>[e(f,{ref_key:"formRef",ref:r},null,512)]),_:1}),e(D,{class:"justify-end"},{default:n(()=>[e(c,{variant:"text",onClick:s.closeDialog},{default:n(()=>[u(_(o.$t("system.page.close")),1)]),_:1},8,["onClick"]),e(c,{color:"primary",variant:"text",onClick:s.submit},{default:n(()=>[u(_(o.$t("system.page.submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(y,{"show-dialog":t.showSkuDialogSelect,onClose:a[1]||(a[1]=m=>s.closeDialogSelect()),onSureSelect:s.sureSelect},null,8,["show-dialog","onSureSelect"])],64)}}});const W=I(V,[["__scopeId","data-v-bdd69643"]]);export{W as default};
