import{a as m,g as A}from"./actionList-473e0ea7.js";import{d as T,c as S,b as V,r as _,a,x as $,v as E,s as n,q as t,ap as M,y as v,at as p}from"./runtime-core.esm-bundler-1bbee395.js";const B=T({__name:"edit-menu-action",props:{row:null},emits:["close","saveSuccess"],setup(g,{expose:f,emit:h}){const s=g,i=S(()=>s.row.menu_name&&Object.hasOwn(m,s.row.menu_name)?m[s.row.menu_name].map(e=>({label:A(e,s.row.menu_name),value:e})):[]),r=V(),o=_({actions:[],showDialog:!1}),l=_({openDialog:e=>{o.actions=[],o.actions=e,o.showDialog=!0},closeDialog:()=>{o.showDialog=!1},saveSuccess:()=>{h("saveSuccess",o.actions)},selectAllEvent:({checked:e})=>{e?o.actions=i.value.map(c=>c.value):o.actions=[]},selectChangeEvent:()=>{const e=r.value.getCheckboxRecords();o.actions=e.map(c=>c.value)}});return f({openDialog:l.openDialog,closeDialog:l.closeDialog}),(e,c)=>{const b=a("v-toolbar"),u=a("vxe-column"),x=a("vxe-table"),w=a("v-card-text"),d=a("v-btn"),k=a("v-card-actions"),C=a("v-card"),D=a("v-dialog");return $(),E(D,{modelValue:o.showDialog,"onUpdate:modelValue":c[0]||(c[0]=y=>o.showDialog=y),persistent:!0,width:"30%",transition:"dialog-top-transition"},{default:n(()=>[t(C,{class:"formCard"},{default:n(()=>[t(b,{title:`${e.$t("base.roleMenu.modalTitle.editMenuAction")}`,color:"white"},null,8,["title"]),t(w,null,{default:n(()=>[t(x,{ref_key:"xTable",ref:r,"checkbox-config":{checkRowKeys:o.actions},data:M(i),"radio-config":{labelField:"value"},"row-config":{isHover:!0,keyField:"value"},align:"center","row-id":"value","max-height":"500",onCheckboxAll:l.selectAllEvent,onCheckboxChange:l.selectChangeEvent},{default:n(()=>[t(u,{type:"checkbox",width:"60"}),t(u,{title:e.$t("base.roleMenu.modalTitle.actionTitle"),field:"label"},null,8,["title"])]),_:1},8,["checkbox-config","data","onCheckboxAll","onCheckboxChange"])]),_:1}),t(k,{class:"justify-end"},{default:n(()=>[t(d,{variant:"text",onClick:l.closeDialog},{default:n(()=>[v(p(e.$t("system.page.close")),1)]),_:1},8,["onClick"]),t(d,{color:"primary",variant:"text",onClick:l.saveSuccess},{default:n(()=>[v(p(e.$t("system.page.submit")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}});export{B as _};
