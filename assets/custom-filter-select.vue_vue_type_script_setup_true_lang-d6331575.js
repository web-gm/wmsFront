import{d}from"./common-938b41ea.js";import{d as f,b as p,r as u,o as b,n as v,c as h,a as _,x as V,m as g,q as j,ap as k}from"./runtime-core.esm-bundler-1bbee395.js";function C(c,i){for(const t of c){let s=!0;for(const l of i)c.filter(n=>n[l]===t[l]).length===1&&(s=!1);if(s)return!0}return!1}const y=["id"],B=f({__name:"custom-filter-select",props:{modelValue:null,items:null,itemTitle:null,label:null,rules:null,mapping:null},emits:["update:modelValue"],setup(c,{emit:i}){const t=c,s=p(),l=u({cacheObj:void 0,dynamicID:d()}),n=u({valueClear:()=>{l.cacheObj=void 0;const o={...t.modelValue};for(const e of t.mapping)o[e.in]="";i("update:modelValue",o)},valueChange:o=>{if(o){const e={...t.modelValue};for(const a of t.mapping)e[a.in]=o[a.out];i("update:modelValue",e)}},selectBlur:()=>{typeof l.cacheObj=="string"&&(l.cacheObj=void 0)}});b(()=>{let o={};for(const e of t.mapping)t.modelValue[e.in]||t.modelValue[e.in]===0?o[e.out]=t.modelValue[e.in]:o[e.out]="";Object.values(o).filter(e=>e!==""&&e!==0).length===0&&(o=void 0),l.cacheObj=o,v(()=>{const e=document.querySelector(`#${`id${l.dynamicID}`} > div > div.v-input__control > div > div.v-field__field > div > input`);e&&(e.onblur=n.selectBlur)})});const r=h(()=>{const o=[...t.items];for(const e of o)for(const a of Object.keys(e))e[a]!==0&&(e[a]||(e[a]=""));return o});return(o,e)=>{const a=_("v-combobox");return V(),g("div",{id:`id${l.dynamicID}`},[j(a,{ref_key:"comboBoxRef",ref:s,modelValue:l.cacheObj,"onUpdate:modelValue":[e[0]||(e[0]=m=>l.cacheObj=m),n.valueChange],label:t.label,items:k(r),"item-title":t.itemTitle,rules:t.rules,variant:"outlined",clearable:"",autocomplete:"off","return-object":"","onClick:clear":n.valueClear},null,8,["modelValue","label","items","item-title","rules","onClick:clear","onUpdate:modelValue"])],8,y)}}});export{B as _,C as c};
